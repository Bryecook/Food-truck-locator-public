{"ast":null,"code":"var _jsxFileName = \"D:\\\\Coding\\\\Phase-5-Project\\\\food-truck-frontend\\\\src\\\\App.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Map from './Components/Map.js';\nimport MainPage from './Containers/MainPage';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      trucksArray: []\n    };\n\n    this.getTrucks = () => {\n      fetch('http://localhost:3000/api/v1/trucks', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(res => res.json()).then(data => this.setState({\n        trucksArray: data\n      }));\n    };\n\n    this.handleLogIn = e => {\n      console.log('login hit');\n      e.preventDefault();\n      let eater = {\n        username: e.target[0].value,\n        password: e.target[1].value\n      };\n      let reqPackage = {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"\"\n        },\n        body: JSON.stringify(eater)\n      };\n      fetch('http://localhost:3000/api/v1/login', reqPackage).then(res => res.json()).then(data => {\n        localStorage.token = data.token;\n      });\n      console.log(localStorage);\n    };\n\n    this.addEater = newEater => {\n      let reqPackage = {\n        method: 'POST',\n        header: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      };\n    };\n  }\n\n  componentDidMount() {\n    console.log('mounted');\n    this.getTrucks();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(MainPage, {\n        handleLogIn: this.handleLogIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Map, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/Coding/Phase-5-Project/food-truck-frontend/src/App.js"],"names":["Map","MainPage","React","App","Component","state","trucksArray","getTrucks","fetch","method","headers","then","res","json","data","setState","handleLogIn","e","console","log","preventDefault","eater","username","target","value","password","reqPackage","body","JSON","stringify","localStorage","token","addEater","newEater","header","componentDidMount","render"],"mappings":";;AACA,OAAO,WAAP;AACA,OAAOA,GAAP,MAAgB,qBAAhB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,GAAN,SAAkBD,KAAK,CAACE,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAElCC,KAFkC,GAE1B;AACNC,MAAAA,WAAW,EAAE;AADP,KAF0B;;AAAA,SAYlCC,SAZkC,GAYtB,MAAM;AAChBC,MAAAA,KAAK,CAAC,qCAAD,EAAwC;AAC3CC,QAAAA,MAAM,EAAE,KADmC;AAE3CC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,oBAAU;AAFH;AAFkC,OAAxC,CAAL,CAOCC,IAPD,CAOMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPb,EAQCF,IARD,CAQMG,IAAI,IAAI,KAAKC,QAAL,CAAc;AAC1BT,QAAAA,WAAW,EAAEQ;AADa,OAAd,CARd;AAWD,KAxBiC;;AAAA,SA0BlCE,WA1BkC,GA0BnBC,CAAD,IAAO;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAF,MAAAA,CAAC,CAACG,cAAF;AACA,UAAIC,KAAK,GAAG;AACVC,QAAAA,QAAQ,EAAEL,CAAC,CAACM,MAAF,CAAS,CAAT,EAAYC,KADZ;AAEVC,QAAAA,QAAQ,EAAER,CAAC,CAACM,MAAF,CAAS,CAAT,EAAYC;AAFZ,OAAZ;AAKA,UAAIE,UAAU,GAAG;AACfjB,QAAAA,MAAM,EAAE,MADO;AAEfC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,oBAAU,kBAFH;AAGP,yCAA+B;AAHxB,SAFM;AAOfiB,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,KAAf;AAPS,OAAjB;AAUAb,MAAAA,KAAK,CAAC,oCAAD,EAAuCkB,UAAvC,CAAL,CACCf,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMG,IAAI,IAAI;AACZgB,QAAAA,YAAY,CAACC,KAAb,GAAqBjB,IAAI,CAACiB,KAA1B;AACD,OAJD;AAKAb,MAAAA,OAAO,CAACC,GAAR,CAAYW,YAAZ;AACD,KAlDiC;;AAAA,SAoDlCE,QApDkC,GAoDtBC,QAAD,IAAc;AACvB,UAAIP,UAAU,GAAG;AACfjB,QAAAA,MAAM,EAAE,MADO;AAEfyB,QAAAA,MAAM,EAAE;AACN,0BAAgB,kBADV;AAEN,oBAAU;AAFJ;AAFO,OAAjB;AAOD,KA5DiC;AAAA;;AAOlCC,EAAAA,iBAAiB,GAAG;AAClBjB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,SAAKZ,SAAL;AACD;;AAoDC6B,EAAAA,MAAM,GAAG;AACT,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,8BACE,QAAC,QAAD;AAAU,QAAA,WAAW,EAAE,KAAKpB;AAA5B;AAAA;AAAA;AAAA;AAAA,cADF,eAEI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMC;;AArE+B;;AAwElC,eAAeb,GAAf","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport Map from './Components/Map.js';\nimport MainPage from './Containers/MainPage'\nimport React from 'react';\n\nclass App extends React.Component {\n\nstate = {\n  trucksArray: []\n}\n\n\ncomponentDidMount() {\n  console.log('mounted')\n  this.getTrucks()\n}\n\ngetTrucks = () => {\n  fetch('http://localhost:3000/api/v1/trucks', {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n  })\n  .then(res => res.json())\n  .then(data => this.setState({\n    trucksArray: data\n  }))\n}\n\nhandleLogIn = (e) => {\n  console.log('login hit')\n  e.preventDefault()\n  let eater = {\n    username: e.target[0].value,\n    password: e.target[1].value\n  }\n\n  let reqPackage = {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"\"\n    },\n    body: JSON.stringify(eater)\n  }\n\n  fetch('http://localhost:3000/api/v1/login', reqPackage)\n  .then(res => res.json())\n  .then(data => {\n    localStorage.token = data.token\n  })\n  console.log(localStorage)\n}\n\naddEater = (newEater) => {\n  let reqPackage = {\n    method: 'POST',\n    header: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    }\n  }\n}\n\n  render() {\n  return (\n    <div className=\"App\">\n      <MainPage handleLogIn={this.handleLogIn}/>\n        <Map />\n    </div>\n  );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}